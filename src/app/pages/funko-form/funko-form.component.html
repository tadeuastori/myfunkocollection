<div class="page">
  <div class="top">
    <div class="funko-we">
      <img class="tadeu" src="assets/image/general/tadeu-funko.png" />
      <img src="assets/image/general/maple-funko.png" />
      <img class="vivi" src="assets/image/general/vivi-funko.png" />
    </div>
    <div class="title">My Funko Collection</div>
  </div>
  <div class="title-section">
    <label><< Adding new Funko to collection >></label>
  </div>
  <div class="content">
    <div class="funko-panel">
      <div class="funko-form">
        <form [formGroup]="form">
          <div class="col-12 vertical-separate">
            <div class="card">
              <div class="card-header">
                <table>
                  <tr>
                    <td class="left">Name</td>
                  </tr>
                </table>
              </div>
              <div class="card-body">
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  formControlName="name"
                />
              </div>
            </div>
          </div>
          <div class="col-12 vertical-separate">
            <div class="card">
              <div class="card-body row">
                <div class="col-4">
                  <label class="form-label">Type</label>
                  <input
                    type="text"
                    class="form-control"
                    id="type"
                    formControlName="type"
                    list="datalistTypeOptions"
                  />
                  <datalist id="datalistTypeOptions">
                    <option
                      *ngFor="let option of typeDatalist"
                      [value]="option"
                    ></option>
                  </datalist>
                </div>

                <div class="col-4 separate">
                  <label class="form-label">Category</label>
                  <input
                    type="text"
                    class="form-control"
                    id="category"
                    formControlName="category"
                    list="datalistCategoryOptions"
                  />
                  <datalist id="datalistCategoryOptions">
                    <option
                      *ngFor="let option of categoryDatalist"
                      [value]="option"
                    ></option>
                  </datalist>
                </div>

                <div class="col-4 separate">
                  <label class="form-label">Number</label>
                  <input
                    type="text"
                    class="form-control"
                    id="number"
                    formControlName="number"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 vertical-separate">
            <div class="card">
              <div class="card-header">
                <table>
                  <tr>
                    <td class="left">Collection</td>
                  </tr>
                </table>
              </div>
              <div class="card-body">
                <input
                  type="text"
                  class="form-control"
                  id="collection"
                  formControlName="collection"
                  list="datalistCollectionOptions"
                />
                <datalist id="datalistCollectionOptions">
                  <option
                    *ngFor="let option of collectionDatalist"
                    [value]="option"
                  ></option>
                </datalist>
              </div>
            </div>
          </div>
          <div class="col-12 vertical-separate">
            <div class="card">
              <div class="card-body row">
                <div class="col-3">
                  <label class="form-label">Box with</label>
                  <input
                    type="number"
                    class="form-control"
                    id="pack"
                    formControlName="pack"
                  />
                </div>
                <div class="col-3 separate">
                  <label class="form-label">Size</label>
                  <input
                    type="number"
                    class="form-control"
                    id="size"
                    formControlName="size"
                    list="datalistSizeOptions"
                  />
                  <datalist id="datalistSizeOptions">
                    <option
                      *ngFor="let option of sizeDatalist"
                      [value]="option"
                    ></option>
                  </datalist>
                </div>
                <div class="col-6 separate">
                  <label class="form-label">Serial</label>
                  <input
                    type="text"
                    class="form-control"
                    id="serial"
                    formControlName="serial"
                    list="datalistSerialOptions"
                  />
                  <datalist id="datalistSerialOptions">
                    <option
                      *ngFor="let option of serialDatalist"
                      [value]="option"
                    ></option>
                  </datalist>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 vertical-separate">
            <div class="card">
              <div class="card-header">
                <table>
                  <tr>
                    <td class="left">Exclusive</td>
                    <td class="right">
                      <div>
                        <button
                          type="button"
                          class="btn btn-outline-primary btn-sm"
                          (click)="addItemFormArray('exclusive')"
                        >
                          Add Exclusive Stamp
                        </button>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="card-body">
                <div class="image-form">
                  <ng-container formArrayName="exclusive">
                    <div
                      class="array-item col-5"
                      *ngFor="
                        let exclusiveItem of getFormArray('exclusive').controls;
                        let i = index
                      "
                    >
                      <div class="input-group">
                        <input
                          type="text"
                          class="form-control"
                          [formControlName]="i"
                          list="datalistExclusiveOptions"
                          placeholder="Type to search..."
                        />
                        <button
                          class="btn btn-outline-danger"
                          type="button"
                          id="button-addon2"
                          (click)="removeItemFormArray('exclusive', i)"
                        >
                          X
                        </button>
                        <datalist id="datalistExclusiveOptions">
                          <option
                            *ngFor="let option of exclusiveDatalist"
                            [value]="option"
                          ></option>
                        </datalist>
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 vertical-separate">
            <div class="card">
              <div class="card-header">
                <table>
                  <tr>
                    <td class="left">Features</td>
                    <td class="right">
                      <div>
                        <button
                          type="button"
                          class="btn btn-outline-primary btn-sm"
                          (click)="addItemFormArray('features')"
                        >
                          Add Features Stamp
                        </button>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="card-body">
                <div class="image-form">
                  <ng-container formArrayName="features">
                    <div
                      class="array-item col-5"
                      *ngFor="
                        let exclusiveItem of getFormArray('features').controls;
                        let i = index
                      "
                    >
                      <div class="input-group">
                        <input
                          type="text"
                          class="form-control"
                          [formControlName]="i"
                          list="datalistFeatureOptions"
                          placeholder="Type to search..."
                        />
                        <button
                          class="btn btn-outline-danger"
                          type="button"
                          id="button-addon2"
                          (click)="removeItemFormArray('features', i)"
                        >
                          X
                        </button>
                        <datalist id="datalistFeatureOptions">
                          <option
                            *ngFor="let option of featureDatalist"
                            [value]="option"
                          ></option>
                        </datalist>
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 vertical-separate">
            <div class="card">
              <div class="card-header">
                <table>
                  <tr>
                    <td class="left">Stamps</td>
                    <td class="right">
                      <div>
                        <button
                          type="button"
                          class="btn btn-outline-primary btn-sm"
                          (click)="addItemFormArray('stamps')"
                        >
                          Add Stamp
                        </button>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="card-body">
                <div class="image-form">
                  <ng-container formArrayName="stamps">
                    <div
                      class="array-item col-5"
                      *ngFor="
                        let exclusiveItem of getFormArray('stamps').controls;
                        let i = index
                      "
                    >
                      <div class="input-group">
                        <input
                          type="text"
                          class="form-control"
                          [formControlName]="i"
                          list="datalistStampOptions"
                          placeholder="Type to search..."
                        />
                        <button
                          class="btn btn-outline-danger"
                          type="button"
                          id="button-addon2"
                          (click)="removeItemFormArray('stamps', i)"
                        >
                          X
                        </button>
                        <datalist id="datalistStampOptions">
                          <option
                            *ngFor="let option of stampDatalist"
                            [value]="option"
                          ></option>
                        </datalist>
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 vertical-separate">
            <div class="card">
              <div class="card-header">
                <table>
                  <tr>
                    <td class="left">Comments</td>
                  </tr>
                </table>
              </div>
              <div class="card-body">
                <textarea
                  class="form-control"
                  formControlName="comment"
                ></textarea>
              </div>
            </div>
          </div>
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <table>
                  <tr>
                    <td class="left">Images</td>
                    <td class="right">
                      <div>
                        <button
                          type="button"
                          class="btn btn-outline-primary btn-sm"
                          (click)="addImage()"
                        >
                          Add Image
                        </button>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="card-body">
                <div class="image-form">
                  <ng-container formArrayName="image">
                    <div
                      class="image-slot"
                      *ngFor="
                        let imageForm of formImages.controls;
                        let i = index
                      "
                    >
                      <div class="input-group" [formGroupName]="i">
                        <span class="input-group-text" id="addon-wrapping">
                          {{ i + 1 }}</span
                        >
                        <input
                          type="text"
                          class="form-control"
                          formControlName="name"
                          placeholder="Image's name + extension"
                        />
                        <button
                          class="btn btn-outline-primary"
                          type="button"
                          id="button-addon3"
                          (click)="
                            copyToClipboard(getControlValuebyIndex(i, 'name'))
                          "
                          *ngIf="getControlValuebyIndex(i, 'name')"
                        >
                          Copy
                        </button>
                        <button
                          class="btn btn-outline-danger"
                          type="button"
                          id="button-addon2"
                          (click)="removeImage(i)"
                        >
                          X
                        </button>
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div
    class="alert alert-success text-center"
    role="alert"
    *ngIf="displayMessage"
  >
    The <strong>JSON</strong> has been created and copied to Clipboard.
  </div>
  <div class="foot">
    <div class="div-button-left">
      <button
        type="button"
        class="btn btn-outline-danger"
        (click)="voltarPagina()"
      >
        Back to list page
      </button>
    </div>
    <div class="div-button-center">
      <button
        type="button"
        class="btn btn-outline-primary"
        (click)="resetPage()"
      >
        Add new Funko
      </button>
    </div>
    <div class="div-button-right">
      <button
        type="button"
        class="btn btn-outline-success"
        (click)="gerarJson()"
      >
        Generate Json
      </button>
    </div>
  </div>
</div>
